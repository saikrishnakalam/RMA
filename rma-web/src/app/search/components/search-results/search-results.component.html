<!-- <div class="filters-wrapper">
  <div class="ax_default swift_label">
      <p><span>FILTER:</span></p>
  </div>
</div> -->
<div class="search_container">

  <div class="ax_default swift_heading_1 search_heading">
    <div class="text " style="top: 1px; transform-origin: 48px 15.5px;">
      <p><span>Search</span></p>
    </div>
  </div>




  <!-- Unnamed (Group) -->
  <div class="ax_default autocomplete" data-left="336" data-top="123" data-width="582" data-height="36">
    <app-search-autocomplete-component [fromPage]="'results'" (searchClicked)="getSearchResults($event)">
    </app-search-autocomplete-component>
    <div class="ax_default swift_secondary_button advanved-search" style="cursor: pointer;"
      (click)="showAdvancedSearch()">
      <div id="u556_text" class="text ">
        <p><span style="text-decoration:underline;">Advanced search</span></p>
      </div>
    </div>
    <div class="ax_default swift_label sort">
      <div id="u588_text" class="text ">
        <p><span>SORT BY:</span></p>
      </div>
      <select id="u583_input" name="sortKey" [(ngModel)]="sortKey" (change)='onSortSelected($event)'>
        <option value="1">&nbsp;A to Z&nbsp; </option>
        <option value="2">&nbsp;Z to A</option>
      </select>
    </div>
  </div>


  <div class="filters-wrapper">

    <!-- Unnamed (Rectangle) -->
    <div class="ax_default swift_label filters_text">
      <div id="u469_text" class="text ">
        <p><span>FILTER:</span></p>
      </div>
    </div>

    <!-- Unnamed (Rectangle) -->

    <!-- Unnamed (Group) -->
    <div class="ax_default filter" data-left="0" data-top="0" data-width="87" data-height="36">
      <!-- Unnamed (Rectangle) -->
      <div class="ax_default swift_box_1 filter_title"
        [ngClass]="(showBicDropDown || filters.myBICs!.length > 0) ? 'ax_show_border':''" style="cursor: pointer;"
        (click)="showBicDropDown = !showBicDropDown">
        <div class="text filter_text">
          <p><span>My BIC</span></p>
        </div>
        <div class="ax_default swift_label filter_count" *ngIf="filters.myBICs!.length > 0">
          <div class="text filter_count_text">
            <p><span>{{filters.myBICs?.length}}</span></p>
          </div>
        </div>
        <!-- Unnamed (Shape) -->
        <div class="ax_default filter_icon">
          <img class="img filter_icon_img" src="assets/images/no_results/u87.png" />
        </div>
      </div>
      <div class="ax_default filter_dropdown" [ngClass]="showBicDropDown ? 'ax_default_show': 'ax_default_hidden'"
        data-label="dropdown my bic" data-left="0" data-top="0" data-width="0" data-height="0">
        <div class="ax_default swift_box_1 dropdown-wrapper">
          <div class="counterPartyCountryDropDown_div">
            <div (click)="toggleIssuerBic(issuerBIC)" class="counterPartyCountryDropDown_text"
              *ngFor="let issuerBIC of issuerBicList">
              <p>
                <span>{{issuerBIC.bicCode}}</span>
                <img class="img" src="assets/images/no_results/c3_u82.png" *ngIf="issuerBIC.checked" />
              </p>
            </div>
          </div>
          <div class="counterPartyCountryDropDown_buttons_div">
            <div data-label="Reset button" [ngClass]="filters.myBICs!.length > 0 ? 'reset-enabled': 'reset-disabled'"
              class="ax_default swift_secondary_button" (click)="resetIssuerBicsFilter()">
              <div class="counterPartyCountryDropDown_buttons_text">
                <p><span>Reset</span></p>
              </div>
            </div>
            <div data-label="save button" (click)="filters.myBICs!.length > 0 ? showBicDropDown = false : ''"
              [ngClass]="filters.myBICs!.length > 0 ? 'save-enabled': 'save-disabled'"
              class="ax_default swift_secondary_button">
              <div class="counterPartyCountryDropDown_buttons_text">
                <p><span>Save filter</span></p>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
    <!-- dropdown my bic (Group) -->


    <!-- Unnamed (Country counterparty) -->

    <!-- Unnamed (Group) -->
    <div class="ax_default filter" data-left="0" data-top="0" data-width="175" data-height="36">

      <!-- Incoming traffic line (Rectangle) -->
      <div class="ax_default swift_box_1 filter_title"
        [ngClass]="(showCountryCounterPartyDropDown || filters.countryCode!.length > 0) ? 'ax_show_border':''"
        data-label="Incoming traffic line" style="cursor: pointer;"
        (click)="showCountryCounterPartyDropDown = !showCountryCounterPartyDropDown">
        <div class="text filter_text">
          <p><span>Country counterparty</span></p>
        </div>

        <div class="ax_default swift_label filter_count" *ngIf="filters.countryCode!.length > 0">
          <div class="text filter_count_text">
            <p><span>{{filters.countryCode?.length}}</span></p>
          </div>
        </div>
        <!-- Unnamed (Shape) -->
        <div class="ax_default icon filter_icon">
          <img class="img filter_icon_img" src="assets/images/no_results/u87.png" />
        </div>
      </div>
      <!-- Unnamed (Left navigaiton) -->
      <div class="ax_default filter_dropdown"
        [ngClass]="showCountryCounterPartyDropDown ? 'ax_default_show': 'ax_default_hidden'"
        data-label="dropdown my bic" data-left="0" data-top="0" data-width="0" data-height="0">

        <!-- Unnamed (Rectangle) -->
        <div class="ax_default swift_box_1 dropdown-wrapper">
          <!-- Unnamed (Rectangle) -->
          <div class="counterPartyCountryDropDown_div">
            <!-- Unnamed (Rectangle) -->

            <div (click)="toggleCounterPartyCountryDropDown(country)" class="counterPartyCountryDropDown_text"
              *ngFor="let country of countriesListForDropdown">
              <p>
                <span>{{country.countryName}} - {{country.countryCode}}</span>
                <img class="img" src="assets/images/no_results/c3_u82.png" *ngIf="country.checked" />
              </p>
            </div>
          </div>
          <div class="counterPartyCountryDropDown_buttons_div">
            <!-- Reset button (Rectangle) -->
            <div class="ax_default swift_secondary_button" data-label="Reset button"
              (click)="resetCounterPartyCountriesFilter()"
              [ngClass]="filters.countryCode!.length > 0 ? 'reset-enabled': 'reset-disabled'">
              <div class="counterPartyCountryDropDown_buttons_text">
                <p><span>Reset</span></p>
              </div>
            </div>

            <!-- save button (Rectangle) -->
            <div class="ax_default swift_secondary_button" data-label="save button"
              (click)="showCountryCounterPartyDropDown = false"
              [ngClass]="filters.countryCode!.length > 0 ? 'save-enabled': 'save-disabled'">
              <div class="counterPartyCountryDropDown_buttons_text">
                <p><span>Save filter</span></p>
              </div>
            </div>


          </div>


        </div>

      </div>
      <!-- Unnamed (Counterparties selected left nav) -->


    </div>



    <!-- Unnamed (Incoming traffic filter) -->

    <!-- Unnamed (Group) -->
    <div class="ax_default filter" data-left="0" data-top="0" data-width="136" data-height="36">

      <!-- Incoming traffic line (Rectangle) -->
      <div class="ax_default swift_box_1 filter_title"
        [ngClass]="(showIncomingTrafficDropDown || filters.inTraffic!.length > 0) ? 'ax_show_border':''"
        data-label="Incoming traffic line" style="cursor: pointer;"
        (click)="showIncomingTrafficDropDown = !showIncomingTrafficDropDown">
        <div class="text filter_text">
          <p><span>Incoming traffic</span></p>
        </div>

        <div class="ax_default swift_label filter_count" *ngIf="filters.inTraffic!.length > 0">
          <div class="text filter_count_text">
            <p><span>{{filters.inTraffic?.length}}</span></p>
          </div>
        </div>

        <!-- Unnamed (Shape) -->
        <div class="ax_default icon filter_icon">
          <img class="img filter_icon_img" src="assets/images/no_results/u87.png" />
        </div>
      </div>

      <!-- dropdown (Group) -->
      <div class="ax_default filter_dropdown" data-label="dropdown"
        [ngClass]="showIncomingTrafficDropDown ? 'ax_default_show': 'ax_default_hidden'" data-left="0" data-top="0"
        data-width="0" data-height="0">

        <!-- Unnamed (Rectangle) -->
        <div class="ax_default swift_box_1 dropdown-wrapper">
          <!-- Unnamed (Rectangle) -->
          <div class="counterPartyCountryDropDown_div">
            <!-- Unnamed (Rectangle) -->

            <div (click)="toggleIncomingAuthDropDown(incomingAuthorisation)" class="counterPartyCountryDropDown_text"
              *ngFor="let incomingAuthorisation of incomingAuthorisationList">
              <p>
                <span>{{incomingAuthorisation?.status}}</span>
                <img class="img" src="assets/images/no_results/c3_u82.png" *ngIf="incomingAuthorisation.checked" />
              </p>
            </div>
          </div>
          <div class="counterPartyCountryDropDown_buttons_div">
            <!-- Reset button (Rectangle) -->
            <div class="ax_default swift_secondary_button" data-label="Reset button"
              (click)="resetIncomingAuthsFilter()"
              [ngClass]="filters.inTraffic!.length > 0 ? 'reset-enabled': 'reset-disabled'">
              <div class="counterPartyCountryDropDown_buttons_text">
                <p><span>Reset</span></p>
              </div>
            </div>

            <!-- save button (Rectangle) -->
            <div class="ax_default swift_secondary_button" data-label="save button"
              (click)="filters.myBICs!.length > 0 ? showIncomingTrafficDropDown = false : ''"
              [ngClass]="filters.inTraffic!.length > 0 ? 'save-enabled': 'save-disabled'">
              <div class="counterPartyCountryDropDown_buttons_text">
                <p><span>Save filter</span></p>
              </div>
            </div>


          </div>


        </div>
      </div>
    </div>

    <!-- Unnamed (Outgoing traffic filter) -->

    <!-- Unnamed (Group) -->
    <div class="ax_default filter" data-left="0" data-top="0" data-width="138" data-height="36">

      <!-- Unnamed (Group) -->


      <!-- Incoming traffic line (Rectangle) -->
      <div class="ax_default swift_box_1 filter_title"
        [ngClass]="(showOutgoingTrafficDropDown || filters.outTraffic!.length > 0) ? 'ax_show_border':''"
        data-label="Incoming traffic line" style="cursor: pointer;"
        (click)="showOutgoingTrafficDropDown = !showOutgoingTrafficDropDown">
        <div class="text filter_text">
          <p><span>Outgoing traffic</span></p>
        </div>
        <div class="ax_default swift_label filter_count" *ngIf="filters.outTraffic!.length > 0">
          <div class="text filter_count_text">
            <p><span>{{filters.outTraffic?.length}}</span></p>
          </div>
        </div>
        <!-- Unnamed (Shape) -->
        <div class="ax_default icon filter_icon">
          <img class="img filter_icon_img" src="assets/images/no_results/u87.png" />
        </div>
      </div>

      <!-- dropdown (Group) -->
      <div class="ax_default filter_dropdown" data-label="dropdown"
        [ngClass]="showOutgoingTrafficDropDown ? 'ax_default_show': 'ax_default_hidden'" data-left="0" data-top="0"
        data-width="0" data-height="0">

        <div class="ax_default swift_box_1 dropdown-wrapper">
          <!-- Unnamed (Rectangle) -->
          <div class="counterPartyCountryDropDown_div">
            <!-- Unnamed (Rectangle) -->

            <div (click)="toggleOutgoingAuthDropDown(outgoingAuthorisation)" class="counterPartyCountryDropDown_text"
              *ngFor="let outgoingAuthorisation of outgoingAuthorisationList">
              <p>
                <span>{{outgoingAuthorisation.status}}</span>
                <img class="img" src="assets/images/no_results/c3_u82.png" *ngIf="outgoingAuthorisation.checked" />
              </p>
            </div>
          </div>
          <div class="counterPartyCountryDropDown_buttons_div">
            <!-- Reset button (Rectangle) -->
            <div class="ax_default swift_secondary_button" data-label="Reset button"
              (click)="resetOutgoingAuthsFilter()"
              [ngClass]="filters.outTraffic!.length > 0 ? 'reset-enabled': 'reset-disabled'">
              <div class="counterPartyCountryDropDown_buttons_text">
                <p><span>Reset</span></p>
              </div>
            </div>

            <!-- save button (Rectangle) -->
            <div class="ax_default swift_secondary_button" data-label="save button"
              (click)="filters.myBICs!.length > 0 ? showOutgoingTrafficDropDown = false : ''"
              [ngClass]="filters.outTraffic!.length > 0 ? 'save-enabled': 'save-disabled'">
              <div class="counterPartyCountryDropDown_buttons_text">
                <p><span>Save filter</span></p>
              </div>
            </div>


          </div>


        </div>
      </div>
    </div>
    <div class="ax_default swift_secondary_button reset_filter" *ngIf="showResetAllButton()" style="cursor: pointer;"
      (click)="resetAllFilters()">
      <div id="u594_text" class="text ">
        <p id="cache8"><span id="cache9">Reset all filters</span></p>
      </div>
    </div>


  </div>




  <app-counterparty-list-component *ngIf="counterPartySearchResults.length > 0"
    [counterPartySearchResults]="paginationItems[pageNo-1].recordList" (detailsClicked)="showDetails($event)">
  </app-counterparty-list-component>
  <app-search-pagination-component *ngIf="counterPartySearchResults.length > 0" [paginationItems]="paginationItems"
    [counterPartySearchResults]="counterPartySearchResults" (goToPageNumber)="goToPageNumber($event)"
    (changePageSize)="onChangePageSize($event)" [currentPage]="pageNo">

  </app-search-pagination-component>
  <app-no-results-component *ngIf="!counterPartySearchResults || counterPartySearchResults.length === 0">
  </app-no-results-component>
</div>